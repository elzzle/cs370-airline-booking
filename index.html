<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles.css">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-storage.js"></script>
    <script src="backend/fb.js"></script>
    <title>Book flights with AirBook</title>
    <nav class="navbar navbar-light" style="background-color: #14277e;">
        <a class="navbar-brand" href="index.html">
            <img class="logo" src="images/logo.svg" alt="AirBook SVG" width="80" height="80" onerror="this.removeAttribute('onerror'); this.src='images/logo.svg'" />
        </a>
        <div class="logsign-container">
            <a id="loginBtn" class="btn btn-danger" href="login.html">Login</a>
            <a id="signupBtn" class="btn btn-danger" href="signup.html">Sign Up</a>
            <button id="logoutBtn" class="btn btn-danger" onclick="logOutUser()">Log out</button>
        </div>
    </nav>

<!-- Enable/Disable Return field when One Way tickets are selected -->

    <script type="text/javascript">
        function disableReturn(x) {
            if(x==0) {
                document.getElementById('oneWay').style.display='block'
            } else {
                document.getElementById('oneWay').style.display='none'
            }
            return;
        }
        //logs user out
        function logOutUser(){
            firebase.auth().signOut();
            window.location.href="index.html"
        }
        //checks if user is logged in and diplays the buttons on the nav accordingly
        firebase.auth().onAuthStateChanged(function(user){
            if(user){
                document.getElementById('loginBtn').style.display='none';
                document.getElementById('signupBtn').style.display='none';
                document.getElementById('logoutBtn').style.display='block';
            }
            else {
                document.getElementById('loginBtn').style.display='inline';
                document.getElementById('signupBtn').style.display='inline';
                document.getElementById('logoutBtn').style.display='none';
            }
        });
    </script>
</head>

<body>
    <h1 style="color: white">Book with AirBook.</h1>
    <p class="welcome-paragraph">AirBook is a convenient way to book/reserve flights! Search by location on the top right, or choose an Airline below!</p>
    <br><br>
    <h3 style="color:black">Search by Airline</h3>
    <div class="airline-btns">
        <div class="delta-btn">
            <a href="deltaflights.html">
                <img src="images/delta.jpg" alt="Delta Airlines" width=200 height=100>
                <div class="overlay">
                    <div class="text">Delta</div>
                </div>
            </a>
        </div>
        <div class="jetblue-btn">
            <a href="jetblueflights.html">
                <img src="images/jetblue.jpg" alt="Jetblue Airlines" width=200 height=100>
                <div class="overlay">
                    <div class="text">JetBlue</div>
                </div>
            </a>
        </div>
        <div class="united-btn">
            <a href="unitedflights.html">
                <img src="images/united.jpg" alt="United Airlines" width=200 height=100>
                <div class="overlay">
                    <div class="text">United</div>
                </div>
            </a>
        </div>
    </div>

    <!-- Flight Booking Form  -->

    <div class="booking-form-box">
            <p class="booking-p">Find your desired flight below!</p>

        <div class="radio-btn">
            <input type="radio" class="btn" name="check" checked="checked" onclick="disableReturn(0)"><span>Roundtrip</span>
            <input type="radio" class="btn" name="check" onclick="disableReturn(1)"><span>One Way</span>
        </div>

        <div class="booking-form">
            
            <label>Flying From</label>
            <input type="text" class="form-control" placeholder="Departure">
            <label>Flying To</label>
            <input type="text" class="form-control" placeholder="Destination">
            <div class="input-grp">
                <label>Depart</label>
                <input type="date" class="form-control select-date">
            </div>
            <div class="input-grp">
                <div id="oneWay">
                <label>Return</label>
                <input type="date" class="form-control select-date">
            </div>
            </div>
            <div class="input-grp">
                <label>Passengers</label>
                <input type="number" class="form-control" value="1">
            </div>
            <div class="input-grp">
                <button id="searchBtn" type="button" class="btn btn-primary flight">Show Flights</button>
            </div>
        </div>
    </div>
</body>

</html>